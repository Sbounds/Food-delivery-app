{"version":3,"sources":["webpack:///./src/app/cust-cart/cust-cart.module.ts","webpack:///./src/app/cust-cart/cust-cart.page.html","webpack:///./src/app/cust-cart/cust-cart.page.scss","webpack:///./src/app/cust-cart/cust-cart.page.ts"],"names":[],"mappings":"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","file":"cust-cart-cust-cart-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\nimport { CheckoutModalPage } from '../checkout-modal/checkout-modal.page'\n\nimport { CustCartPage } from './cust-cart.page';\nimport { CartCompComponent } from '../components/cart-comp/cart-comp.component'\nimport { ResCompComponent } from '../components/res-comp/res-comp.component'\nimport { ViewResturantModalPage } from '../view-resturant-modal/view-resturant-modal.page'\nimport { CartTotalComponent } from '../components/cart-total/cart-total.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CustCartPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CustCartPage, CartCompComponent, CheckoutModalPage, ResCompComponent, ViewResturantModalPage, CartTotalComponent],\n  entryComponents: [CheckoutModalPage, ViewResturantModalPage]\n})\nexport class CustCartPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n        <ion-button (click)=\\\"openFirst()\\\">\\n          <ion-icon fill=\\\"icon-only\\\" name=\\\"menu\\\">\\n          </ion-icon>\\n        </ion-button>\\n      </ion-buttons>\\n      <table>\\n          <tr>\\n            <td><ion-title><b><i>Shopping Cart</i></b></ion-title></td>\\n            <td><ion-img src=\\\"../assets/icon/oxford2go.png\\\"></ion-img></td>\\n          </tr>\\n        </table>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div *ngFor = \\\"let c of cart\\\">\\n    <ion-card>\\n    \\n         \\n    \\n      <ion-card-content text-center>\\n          <app-res-comp class='name'[resID]=c.res_id></app-res-comp>\\n       <ion-grid text-center> \\n          <ion-row>\\n              <ion-col>Name</ion-col>\\n              <ion-col>\\n              </ion-col>\\n              <ion-col>Qty</ion-col>\\n              <ion-col></ion-col>\\n              <ion-col>\\n                  Price\\n              </ion-col>\\n              <ion-col>\\n              </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n        <app-cart-comp [cID]=c.cart_id></app-cart-comp>\\n        <app-cart-total text-center [cID]=c.cart_id></app-cart-total>\\n        </ion-card-content>\\n    </ion-card>\\n    <br>\\n    \\n  </div>\\n\\n</ion-content>\"","module.exports = \"ion-title {\\n  position: relative;\\n  text-align: center; }\\n\\nion-content {\\n  --ion-background-color: rgb(243, 243, 243); }\\n\\nion-img {\\n  height: 45px;\\n  width: auto; }\\n\\nion-card {\\n  background-color: #ffffff; }\\n\\n.name {\\n  text-align: left;\\n  font-size: 40px; }\\n\\nion-grid {\\n  --ion-grid-columns: 6;\\n  --ion-grid-padding: 8px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zaGVsYnlib3VuZHMvMzg3cHJvamVjdDIvc3JjL2FwcC9jdXN0LWNhcnQvY3VzdC1jYXJ0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFrQjtFQUNsQixrQkFBa0IsRUFBQTs7QUFHdEI7RUFDSSwwQ0FBdUIsRUFBQTs7QUFHM0I7RUFDSSxZQUFZO0VBQ1osV0FBVyxFQUFBOztBQUdmO0VBQ0kseUJBQXlCLEVBQUE7O0FBSTdCO0VBQ0ksZ0JBQWdCO0VBQ2hCLGVBQWUsRUFBQTs7QUFFZjtFQUNBLHFCQUFtQjtFQUNuQix1QkFBbUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2N1c3QtY2FydC9jdXN0LWNhcnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXRpdGxle1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbmlvbi1jb250ZW50IHtcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQzLCAyNDMsIDI0Myk7XG59XG5cbmlvbi1pbWcge1xuICAgIGhlaWdodDogNDVweDtcbiAgICB3aWR0aDogYXV0bztcbn1cblxuaW9uLWNhcmR7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbn1cblxuXG4ubmFtZXtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgIGZvbnQtc2l6ZTogNDBweDtcbn1cbiAgICBpb24tZ3JpZHtcbiAgICAtLWlvbi1ncmlkLWNvbHVtbnM6IDY7XG4gICAgLS1pb24tZ3JpZC1wYWRkaW5nOiA4cHg7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { ModalController, MenuController, AlertController } from '@ionic/angular';\nimport { ResturantService } from '../resturant.service';\nimport { UserService } from '../user.service';\nimport { CartService } from '../cart.service';\nimport * as firebase from 'firebase/app'; // required for app->firestore communication\nimport 'firebase/firestore';\nimport { CheckoutModalPage } from '../checkout-modal/checkout-modal.page'\nimport { isEmpty } from 'rxjs/operators';\nimport{ ViewResturantModalPage } from '../view-resturant-modal/view-resturant-modal.page'\n\n\ninterface User{\n  user_name?: string,\n  user_id?: string,\n  user_type?:number\n}\ninterface Cart{\n  cart_id?: string,\n  user_id?: string,\n  res_id?:string,\n  status?: number,\n  items?: []\n}\n\n\n@Component({\n  selector: 'app-cust-cart',\n  templateUrl: './cust-cart.page.html',\n  styleUrls: ['./cust-cart.page.scss'],\n})\nexport class CustCartPage implements OnInit {\n\n  uid: string = \"\"\n  cid: string = \"\"\n  res\n\n\n  constructor(public modalController: ModalController,\n    private menu: MenuController, \n    private rs: ResturantService,\n    private us: UserService,\n    private cs: CartService,\n    private modal: ModalController,\n    private alert: AlertController) { }\n    items = [];\n    cart= [];\n    resNames = [];\n\n\n  openFirst() {\n    this.menu.enable(true, 'cmenu');\n    this.menu.toggle('cmenu');\n\n    console.log(this.menu.isOpen());\n  }\n\n\n  openCustom() {\n    this.menu.enable(true, 'custom');\n    this.menu.open('custom');\n  }\n\n  async ngOnInit() {\n     console.log(\"on cust cart page\")\n    this.uid = \"\";\n    this.cart = [];\n     let s1 = this.us.getCurrentUID().subscribe(uid=>\n      {\n        console.log(uid);\n        this.uid = uid;\n          let s2 = this.cs.getCurCarts(this.uid, this.cart).subscribe(async cart=>\n          {\n            this.cart=cart;\n            console.log(this.cart);\n            if(this.cart == undefined){\n              console.log(\"in empty group\");\n            }\n            console.log(this.cart.length);\n        });\n      });\n\n  }\n\n  async checkout(cID){\n    const modalElement = await this.modalController.create({\n      component: CheckoutModalPage,\n      componentProps: {\n        cID: cID\n      }\n    });\n    await modalElement.present();\n  }\n  async viewResturant(rsID){\n    this.rs.getSingleResturant(rsID).then(async res=>\n      {\n        this.res= res;\n        console.log(this.res);\n        const modalElement = await this.modalController.create({\n          component: ViewResturantModalPage,\n          componentProps: {\n            rs: this.res\n          }\n        });\n        await modalElement.present();\n\n      })\n    \n  }\n  async deleteCart(cID){\n    let db = firebase.firestore();\n    console.log(cID);\n    const alert = await this.alert.create({\n        header: 'Warning',\n        message: 'Are you sure you want to delete this cart?',\n        buttons: [\n          {\n            text: 'Cancel',\n            role: 'cancel'\n          },\n          {\n              text:'Delete',\n              handler: data =>{\n                db.collection('cart').doc(cID).delete().then(any=>{\n                this.ngOnInit();\n              });\n            }\n          }\n        ]\n      })\n      await alert.present();\n  \n  }\n  \n\n}\n\n"],"sourceRoot":""}