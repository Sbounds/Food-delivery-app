{"version":3,"sources":["webpack:///./src/app/dashboard-del/dashboard-del.module.ts","webpack:///./src/app/dashboard-del/dashboard-del.page.html","webpack:///./src/app/dashboard-del/dashboard-del.page.scss","webpack:///./src/app/dashboard-del/dashboard-del.page.ts"],"names":[],"mappings":"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","file":"dashboard-del-dashboard-del-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DashboardDelPage } from './dashboard-del.page';\nimport { DelCartComponent } from '../components/del-cart/del-cart.component';\nimport { DelResAddCompComponent } from '../components/del-res-add-comp/del-res-add-comp.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DashboardDelPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [DashboardDelPage, DelCartComponent, DelResAddCompComponent]\n})\nexport class DashboardDelPageModule {}\n","module.exports = \"  <ion-header>\\n    <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-button (click)=\\\"openFirst()\\\">\\n          <ion-icon fill=\\\"icon-only\\\" name=\\\"menu\\\">\\n\\n          </ion-icon>\\n        </ion-button>\\n      </ion-buttons>\\n      <ion-title text-center>Home</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n\\n<ion-content padding>\\n  <ion-label> Current Orders</ion-label>\\n  <div *ngFor = \\\"let co of curOrders\\\">\\n      <ion-card>\\n          <ion-grid>\\n            <ion-card-header>\\n            <ion-row>\\n              <ion-col text-left>Delivery Address</ion-col>\\n              <ion-col text-left>Restuarant Address</ion-col>\\n            </ion-row>\\n          </ion-card-header>\\n            <ion-row>\\n              <ion-col>\\n                  <app-del-cart [cID]=co.cart_id></app-del-cart>\\n              </ion-col>\\n              <ion-col>\\n                  <app-del-res-add-comp [resID]=co.res_id></app-del-res-add-comp>\\n              </ion-col>\\n            </ion-row>\\n          <ion-row>\\n              <ion-button (click)=\\\"delivered(co.cart_id)\\\">Delivered</ion-button>\\n        </ion-row>\\n        </ion-grid>\\n        </ion-card>\\n    \\n  </div>\\n  <br>\\n  <ion-label>Available Orders</ion-label>\\n  <div *ngFor = \\\"let ao of availOrders\\\">\\n    <ion-card>\\n    <ion-grid>\\n      <ion-card-header>\\n      <ion-row>\\n        <ion-col>Delivery Address</ion-col>\\n        <ion-col>Restuarant Address</ion-col>\\n      </ion-row>\\n    </ion-card-header>\\n      <ion-row>\\n        <ion-col>\\n            <app-del-cart [cID]=ao.cart_id></app-del-cart>\\n        </ion-col>\\n        <ion-col>\\n            <app-del-res-add-comp [resID]=ao.res_id></app-del-res-add-comp>\\n        </ion-col>\\n      </ion-row>\\n    <ion-row>\\n    <ion-button (click)=\\\"accept(ao.cart_id)\\\">Accept Order</ion-button>\\n  </ion-row>\\n  </ion-grid>\\n  </ion-card>\\n  </div>\\n</ion-content>\\n\\n\"","module.exports = \"ion-grid {\\n  --ion-grid-columns: 2;\\n  --ion-grid-padding: 8px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zaGVsYnlib3VuZHMvMzg3cHJvamVjdDIvc3JjL2FwcC9kYXNoYm9hcmQtZGVsL2Rhc2hib2FyZC1kZWwucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUJBQW1CO0VBQ25CLHVCQUFtQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvZGFzaGJvYXJkLWRlbC9kYXNoYm9hcmQtZGVsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1ncmlke1xuICAgIC0taW9uLWdyaWQtY29sdW1uczogMjtcbiAgICAtLWlvbi1ncmlkLXBhZGRpbmc6IDhweDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport {MenuController } from '@ionic/angular';\nimport { CartService } from '../cart.service';\nimport { UserService } from '../user.service';\nimport * as firebase from 'firebase/app'; // required for app->firestore communication\nimport 'firebase/firestore';\n\n@Component({\n  selector: 'app-dashboard-del',\n  templateUrl: './dashboard-del.page.html',\n  styleUrls: ['./dashboard-del.page.scss'],\n})\nexport class DashboardDelPage implements OnInit {\n\n  uid: string = \"\"\n\n  constructor(private menu: MenuController,\n    private cs: CartService,\n    private us: UserService) { }\n\n    availOrders =[];\n    curOrders = [];\n\n  openFirst() {\n    this.menu.enable(true, 'dmenu');\n    this.menu.toggle('dmenu');\n\n    console.log(this.menu.isOpen());\n  }\n\n  async ngOnInit() {\n    this.availOrders =[];\n    this.cs.getAvailableDel(this.availOrders).subscribe(order=>\n      {\n        this.availOrders = order;\n        console.log(this.availOrders);\n      })\n    \n    this.us.getCurrentUID().subscribe(uid=>\n      {\n        this.uid = uid;\n        this.cs.getAcceptedDel(this.uid, this.curOrders).subscribe(orders=>\n          {\n            this.curOrders = orders;\n          })\n      })\n\n  }\n  async accept(cartID){\n    let db = firebase.firestore();\n    try{\n      db.collection('cart').doc(cartID).update({\n        status: 3,\n        del_id: this.uid\n      }).then(function(){\n        console.log(\"order accepted\")\n        \n      })\n   }catch{\n     console.error(\"error accepting order\");\n   }\n   this.ngOnInit();\n\n  }\n  async delivered(cartID){\n    let db = firebase.firestore();\n    try{\n      db.collection('cart').doc(cartID).update({\n        status: 4\n      }).then(function(){\n        console.log(\"order delivered\")\n        \n      })\n   }catch{\n     console.error(\"error delivered order\");\n   }\n   this.ngOnInit();\n\n  }\n\n}\n"],"sourceRoot":""}